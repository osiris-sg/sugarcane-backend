(()=>{"use strict";var t=[,(t,e,o)=>{o.r(e),o.d(e,{default:()=>r});var n=o(2);function r(t,e,o){return(e=(0,n.default)(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}},(t,e,o)=>{o.r(e),o.d(e,{default:()=>i});var n=o(3),r=o(4);function i(t){var e=(0,r.default)(t,"string");return"symbol"===(0,n.default)(e)?e:String(e)}},(t,e,o)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}o.r(e),o.d(e,{default:()=>n})},(t,e,o)=>{o.r(e),o.d(e,{default:()=>r});var n=o(3);function r(t,e){if("object"!==(0,n.default)(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!==(0,n.default)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}}],e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,o),i.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{o.r(n);var t=o(1);function e(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function r(o){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach(function(e){(0,t.default)(o,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})}return o}self.addEventListener("push",function(t){if(t.data)try{const e=t.data.json();console.log("[SW] Push received:",e);const o={body:e.body,icon:"/icons/icon-192x192.png",badge:"/icons/icon-96x96.png",vibrate:[100,50,100],data:r({url:e.url||"/"},e.data),actions:e.actions||[],tag:e.tag||"supercane-notification",renotify:e.renotify||!1,requireInteraction:e.requireInteraction||!1};t.waitUntil(self.registration.showNotification(e.title,o))}catch(t){console.error("[SW] Error showing notification:",t)}else console.log("[SW] Push event but no data")}),self.addEventListener("notificationclick",function(t){var e;console.log("[SW] Notification click received"),t.notification.close();const o=(null===(e=t.notification.data)||void 0===e?void 0:e.url)||"/dashboard";t.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.url.includes(o)&&"focus"in n)return n.focus()}if(self.clients.openWindow)return self.clients.openWindow(o)}))}),self.addEventListener("notificationclose",function(t){console.log("[SW] Notification closed:",t.notification.tag)})})()})();